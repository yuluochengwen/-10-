{% extends "base/base.html" %}

{% block title %}商品列表 - SmartStore{% endblock %}

{% block head %}
    <link rel="stylesheet" href="{{ url_for('static', filename='css/main.css') }}">
{% endblock %}

{% block content %}
    <!-- Page Header -->
    <section class="page-header bg-gradient-to-r from-blue-600 to-blue-800 text-white py-16">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
            <h1 class="text-4xl md:text-5xl font-bold mb-4">商品列表</h1>
            <p class="text-xl text-blue-100">精选优质商品，品质保证</p>
        </div>
    </section>
    
    <!-- Main Content -->
    <section class="products-main py-12">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex flex-col lg:flex-row gap-8">
                <!-- Sidebar Filters -->
                <div class="lg:w-1/4">
                    <div class="bg-white rounded-2xl shadow-lg p-6 sticky top-24">
                        <h3 class="text-lg font-semibold text-gray-900 mb-6 flex items-center">
                            <i class="fas fa-filter mr-2"></i>筛选条件
                        </h3>
                        
                        <!-- Search -->
                        <div class="mb-6">
                            <label class="block text-sm font-medium text-gray-700 mb-2">搜索商品</label>
                            <div class="relative">
                                <input type="text" id="search-input" placeholder="输入商品名称..." 
                                       class="w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                                <i class="fas fa-search absolute left-3 top-3 text-gray-400"></i>
                            </div>
                        </div>
                        
                        <!-- Categories -->
                        <div class="mb-6">
                            <label class="block text-sm font-medium text-gray-700 mb-3">商品分类</label>
                            <div class="space-y-2">
                                <label class="flex items-center">
                                    <input type="checkbox" class="category-filter rounded text-blue-600 focus:ring-blue-500" value="all" checked>
                                    <span class="ml-2 text-sm text-gray-700">全部商品</span>
                                </label>
                                <label class="flex items-center">
                                    <input type="checkbox" class="category-filter rounded text-blue-600 focus:ring-blue-500" value="beverages">
                                    <span class="ml-2 text-sm text-gray-700">饮料</span>
                                </label>
                                <label class="flex items-center">
                                    <input type="checkbox" class="category-filter rounded text-blue-600 focus:ring-blue-500" value="snacks">
                                    <span class="ml-2 text-sm text-gray-700">零食</span>
                                </label>
                                <label class="flex items-center">
                                    <input type="checkbox" class="category-filter rounded text-blue-600 focus:ring-blue-500" value="daily">
                                    <span class="ml-2 text-sm text-gray-700">日用品</span>
                                </label>
                                <label class="flex items-center">
                                    <input type="checkbox" class="category-filter rounded text-blue-600 focus:ring-blue-500" value="electronics">
                                    <span class="ml-2 text-sm text-gray-700">电子产品</span>
                                </label>
                            </div>
                        </div>
                        
                        <!-- Price Range -->
                        <div class="mb-6">
                            <label class="block text-sm font-medium text-gray-700 mb-3">价格区间</label>
                            <div class="space-y-2">
                                <label class="flex items-center">
                                    <input type="radio" name="price-range" class="text-blue-600 focus:ring-blue-500" value="all" checked>
                                    <span class="ml-2 text-sm text-gray-700">全部价格</span>
                                </label>
                                <label class="flex items-center">
                                    <input type="radio" name="price-range" class="text-blue-600 focus:ring-blue-500" value="0-10">
                                    <span class="ml-2 text-sm text-gray-700">¥0 - ¥10</span>
                                </label>
                                <label class="flex items-center">
                                    <input type="radio" name="price-range" class="text-blue-600 focus:ring-blue-500" value="10-50">
                                    <span class="ml-2 text-sm text-gray-700">¥10 - ¥50</span>
                                </label>
                                <label class="flex items-center">
                                    <input type="radio" name="price-range" class="text-blue-600 focus:ring-blue-500" value="50-100">
                                    <span class="ml-2 text-sm text-gray-700">¥50 - ¥100</span>
                                </label>
                                <label class="flex items-center">
                                    <input type="radio" name="price-range" class="text-blue-600 focus:ring-blue-500" value="100+">
                                    <span class="ml-2 text-sm text-gray-700">¥100以上</span>
                                </label>
                            </div>
                        </div>
                        
                        <!-- Sort Options -->
                        <div class="mb-6">
                            <label class="block text-sm font-medium text-gray-700 mb-3">排序方式</label>
                            <select id="sort-select" class="w-full border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                                <option value="default">默认排序</option>
                                <option value="price-low">价格从低到高</option>
                                <option value="price-high">价格从高到低</option>
                                <option value="name">名称排序</option>
                                <option value="popular">热门程度</option>
                            </select>
                        </div>
                        
                        <!-- Clear Filters -->
                        <button id="clear-filters" class="w-full bg-gray-100 text-gray-700 py-2 rounded-lg hover:bg-gray-200 transition-colors">
                            <i class="fas fa-refresh mr-2"></i>清除筛选
                        </button>
                    </div>
                </div>
                
                <!-- Products Grid -->
                <div class="lg:w-3/4">
                    <!-- Results Info -->
                    <div class="flex justify-between items-center mb-6">
                        <div>
                            <p id="results-info" class="text-gray-600">
                                共找到 <span id="total-count" class="font-semibold">0</span> 件商品
                            </p>
                        </div>
                        <div class="flex items-center space-x-4">
                            <button id="grid-view" class="p-2 text-blue-600 bg-blue-100 rounded-lg">
                                <i class="fas fa-th"></i>
                            </button>
                            <button id="list-view" class="p-2 text-gray-400 hover:text-blue-600 hover:bg-blue-100 rounded-lg transition-colors">
                                <i class="fas fa-list"></i>
                            </button>
                        </div>
                    </div>
                    
                    <!-- Products Container -->
                    <div id="products-container" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">
                        <!-- Products will be loaded here -->
                    </div>
                    
                    <!-- Loading State -->
                    <div id="loading-state" class="text-center py-12 hidden">
                        <div class="animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"></div>
                        <p class="text-gray-600">加载商品中...</p>
                    </div>
                    
                    <!-- No Results State -->
                    <div id="no-results" class="text-center py-12 hidden">
                        <i class="fas fa-search text-6xl text-gray-300 mb-4"></i>
                        <h3 class="text-xl font-semibold text-gray-900 mb-2">未找到相关商品</h3>
                        <p class="text-gray-600 mb-4">请尝试调整筛选条件或搜索关键词</p>
                        <button id="reset-search" class="bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition-colors">
                            重置搜索
                        </button>
                    </div>
                    
                    <!-- Pagination -->
                    <div id="pagination" class="flex justify-center mt-12">
                        <!-- Pagination will be generated here -->
                    </div>
                </div>
            </div>
        </div>
    </section>
{% endblock %}

{% block scripts %}
    <script src="{{ url_for('static', filename='js/commodity.js') }}"></script>
{% endblock %}